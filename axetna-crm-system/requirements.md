# Документ требований

## Введение

Специализированная CRM-система для работы с сервисом axetna.cloud - это многопользовательская платформа, предназначенная для управления объектами мониторинга, учетными записями, биллингом и сервисным обслуживанием GPS-оборудования. Система должна поддерживать изолированные экосистемы для каждой компании с авторизацией через axetna.cloud и интеграцией с внешними системами.

## Требования

### Требование 1

**Пользовательская история:** Как администратор компании, я хочу управлять объектами мониторинга через веб-интерфейс с использованием шаблонов, чтобы быстро создавать объекты с предустановленными настройками.

#### Критерии приемки

1. КОГДА пользователь авторизуется в системе ТОГДА система ДОЛЖНА отобразить панель управления с виджетами объектов
2. КОГДА пользователь создает новый объект ТОГДА система ДОЛЖНА предложить выбор из предустановленных шаблонов объектов
3. КОГДА выбирается шаблон объекта ТОГДА система ДОЛЖНА автоматически заполнить поля настройками из шаблона
4. КОГДА администратор создает новый шаблон объекта ТОГДА система ДОЛЖНА сохранить конфигурацию для повторного использования
5. КОГДА пользователь создает или редактирует объект ТОГДА система ДОЛЖНА сохранить/обновить данные через API axetna.cloud
6. КОГДА пользователь удаляет объект ТОГДА система ДОЛЖНА переместить объект в корзину
7. ЕСЛИ объект находится в корзине ТОГДА система ДОЛЖНА предоставить возможность восстановления или окончательного удаления

### Требование 2

**Пользовательская история:** Как администратор компании, я хочу управлять учетными записями пользователей с использованием шаблонов, чтобы быстро создавать пользователей с предустановленными правами доступа.

#### Критерии приемки

1. КОГДА администратор создает учетную запись ТОГДА система ДОЛЖНА предложить выбор из предустановленных шаблонов ролей
2. КОГДА выбирается шаблон роли ТОГДА система ДОЛЖНА автоматически применить соответствующие права доступа
3. КОГДА администратор создает новый шаблон ТОГДА система ДОЛЖНА сохранить настройки прав для повторного использования
4. КОГДА администратор редактирует права пользователя ТОГДА система ДОЛЖНА обновить уровень доступа в реальном времени
5. КОГДА пользователь удаляется ТОГДА система ДОЛЖНА деактивировать учетную запись с сохранением истории действий
6. ЕСЛИ пользователь неактивен более 180 дней ТОГДА система ДОЛЖНА предложить деактивацию учетной записи

### Требование 3

**Пользовательская история:** Как финансовый менеджер, я хочу автоматизированную систему биллинга с возможностью планового управления объектами, чтобы точно рассчитывать стоимость услуг и избегать некорректных начислений.

#### Критерии приемки

1. КОГДА добавляется новый объект ТОГДА система ДОЛЖНА автоматически применить соответствующий тарифный план
2. КОГДА планируется удаление объекта ТОГДА система ДОЛЖНА позволить установить дату планового удаления
3. КОГДА наступает дата планового удаления ТОГДА система ДОЛЖНА автоматически удалить объект и исключить из следующего периода биллинга
4. КОГДА наступает период расчета ТОГДА система ДОЛЖНА сгенерировать счет только для активных объектов на дату расчета
5. КОГДА изменяется тарифный план ТОГДА система ДОЛЖНА пересчитать стоимость с даты изменения
6. ЕСЛИ объект запланирован к удалению ТОГДА система ДОЛЖНА отображать соответствующий статус и дату удаления
7. ЕСЛИ объект неактивен ТОГДА система ДОЛЖНА применить льготный тариф или исключить из расчета

### Требование 4

**Пользовательская история:** Как руководитель сервисного отдела, я хочу планировать монтажи и диагностику оборудования, чтобы оптимизировать работу технических специалистов.

#### Критерии приемки

1. КОГДА создается заявка на монтаж ТОГДА система ДОЛЖНА позволить выбрать дату, время и назначить исполнителя
2. КОГДА планируется диагностика ТОГДА система ДОЛЖНА учесть историю предыдущих работ по объекту
3. КОГДА монтаж завершен ТОГДА система ДОЛЖНА обновить статус оборудования и объекта
4. ЕСЛИ возникает конфликт в расписании ТОГДА система ДОЛЖНА предупредить и предложить альтернативы

### Требование 5

**Пользовательская история:** Как кладовщик, я хочу вести учет оборудования на складе, чтобы контролировать наличие и движение GPS-трекеров и датчиков.

#### Критерии приемки

1. КОГДА оборудование поступает на склад ТОГДА система ДОЛЖНА зарегистрировать ID, IMEI и другие характеристики
2. КОГДА оборудование выдается для монтажа ТОГДА система ДОЛЖНА обновить статус и привязать к объекту
3. КОГДА оборудование возвращается ТОГДА система ДОЛЖНА обновить статус и провести диагностику состояния
4. ЕСЛИ заканчивается оборудование определенного типа ТОГДА система ДОЛЖНА отправить уведомление о необходимости закупки

### Требование 6

**Пользовательская история:** Как менеджер по работе с клиентами, я хочу интеграцию с Битрикс24, чтобы синхронизировать данные клиентов и сделки.

#### Критерии приемки

1. КОГДА создается новый клиент в CRM ТОГДА система ДОЛЖНА синхронизировать данные с Битрикс24
2. КОГДА обновляется информация о клиенте ТОГДА система ДОЛЖНА обновить данные в обеих системах
3. КОГДА создается сделка в Битрикс24 ТОГДА система ДОЛЖНА создать соответствующий объект в CRM
4. ЕСЛИ синхронизация не удалась ТОГДА система ДОЛЖНА записать ошибку в лог и повторить попытку

### Требование 7

**Пользовательская история:** Как бухгалтер, я хочу интеграцию с 1С, чтобы автоматически обмениваться данными по платежам и контрагентам.

#### Критерии приемки

1. КОГДА генерируется реестр платежей ТОГДА система ДОЛЖНА экспортировать данные в формате 1С
2. КОГДА обновляются данные контрагентов в 1С ТОГДА система ДОЛЖНА импортировать изменения
3. КОГДА происходит платеж ТОГДА система ДОЛЖНА обновить статус в обеих системах
4. ЕСЛИ возникает ошибка обмена ТОГДА система ДОЛЖНА уведомить ответственного сотрудника

### Требование 8

**Пользовательская история:** Как клиент, я хочу получать уведомления через Telegram и другие мессенджеры, чтобы быть в курсе состояния моих объектов.

#### Критерии приемки

1. КОГДА настраивается уведомление ТОГДА система ДОЛЖНА позволить выбрать тип события и способ доставки
2. КОГДА происходит событие ТОГДА система ДОЛЖНА отправить уведомление через выбранный канал
3. КОГДА клиент отвечает на уведомление ТОГДА система ДОЛЖНА обработать ответ и обновить статус
4. ЕСЛИ доставка не удалась ТОГДА система ДОЛЖНА попробовать альтернативный канал связи

### Требование 9

**Пользовательская история:** Как владелец компании, я хочу изолированную экосистему для моей компании, чтобы мои данные были защищены от доступа других компаний.

#### Критерии приемки

1. КОГДА компания авторизуется ТОГДА система ДОЛЖНА предоставить доступ только к данным этой компании
2. КОГДА выполняются операции ТОГДА система ДОЛЖНА использовать учетные данные компании для API axetna.cloud
3. КОГДА происходит сбой авторизации ТОГДА система ДОЛЖНА заблокировать доступ к данным
4. ЕСЛИ компания меняет пароль в axetna.cloud ТОГДА система ДОЛЖНА обновить учетные данные

### Требование 10

**Пользовательская история:** Как менеджер по договорам, я хочу управлять договорами и приложениями к ним, чтобы привязывать объекты к соответствующим договорным обязательствам.

#### Критерии приемки

1. КОГДА добавляется новый объект ТОГДА система ДОЛЖНА обязательно привязать объект к действующему договору и приложению или создать их заново
2. КОГДА добавляется новый объект ТОГДА система ДОЛЖНА предложить выбрать действующий договор для привязки
3. КОГДА выбирается договор ТОГДА система ДОЛЖНА показать доступные приложения к договору
4. КОГДА создается новый договор ТОГДА система ДОЛЖНА позволить указать условия тарификации и сроки действия
5. КОГДА создается приложение к договору ТОГДА система ДОЛЖНА связать его с основным договором
6. ЕСЛИ для объекта нет подходящего договора ТОГДА система ДОЛЖНА предложить создать новый договор
7. КОГДА договор истекает ТОГДА система ДОЛЖНА уведомить о необходимости продления

### Требование 11

**Пользовательская история:** Как администратор системы, я хочу управлять справочниками локаций и монтажников, чтобы поддерживать актуальную информацию для планирования работ.

#### Критерии приемки

1. КОГДА администратор добавляет новую локацию ТОГДА система ДОЛЖНА сохранить город с возможностью указания региона и координат
2. КОГДА редактируется локация ТОГДА система ДОЛЖНА обновить информацию во всех связанных объектах
3. КОГДА добавляется монтажник ТОГДА система ДОЛЖНА позволить указать тип (штатный/наемный), специализацию и контактные данные
4. КОГДА планируется монтаж ТОГДА система ДОЛЖНА предлагать монтажников на основе локации и специализации
5. КОГДА удаляется локация или монтажник ТОГДА система ДОЛЖНА проверить наличие связанных записей и предупредить об этом
6. ЕСЛИ монтажник неактивен ТОГДА система ДОЛЖНА исключить его из списка доступных для планирования

### Требование 12

**Пользовательская история:** Как аналитик, я хочу систему отчетности, чтобы анализировать эффективность работы и состояние объектов.

#### Критерии приемки

1. КОГДА запрашивается отчет ТОГДА система ДОЛЖНА сгенерировать данные за указанный период
2. КОГДА формируется отчет ТОГДА система ДОЛЖНА предоставить возможность экспорта в различных форматах
3. КОГДА настраивается автоматический отчет ТОГДА система ДОЛЖНА отправлять его по расписанию
4. ЕСЛИ данные для отчета недоступны ТОГДА система ДОЛЖНА уведомить об ошибке и предложить альтернативы

### Требование 13

**Пользовательская история:** Как пользователь системы, я хочу чтобы весь интерфейс, документация и сообщения были на русском языке, чтобы комфортно работать с системой.

#### Критерии приемки

1. КОГДА пользователь открывает любую страницу системы ТОГДА все элементы интерфейса ДОЛЖНЫ быть на русском языке
2. КОГДА система выводит сообщения об ошибках ТОГДА все сообщения ДОЛЖНЫ быть на русском языке
3. КОГДА система генерирует уведомления ТОГДА все уведомления ДОЛЖНЫ быть на русском языке
4. КОГДА разработчик читает код ТОГДА все комментарии в коде ДОЛЖНЫ быть на русском языке
5. КОГДА администратор читает документацию ТОГДА вся техническая документация ДОЛЖНА быть на русском языке
6. КОГДА система выводит логи ТОГДА все сообщения в логах ДОЛЖНЫ быть на русском языке
7. ЕСЛИ система интегрируется с внешними API ТОГДА все сообщения пользователю о статусе интеграции ДОЛЖНЫ быть на русском языке